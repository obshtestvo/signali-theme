@import '../styleguide';

/*How To Use*/
//<action-button link/button/helper type="primary/secondary" fill="solid/outlined" color="red/purple/white" size="small/medium/large" align="left,center,right" action="{{action}}">
//if helper attributes [type],[fill],[size] and [color] are not required
$secondary-hover-color: #DC3957;

action-button {
    [wrapper] {
        display: block;
    }
    &[align="right"] > [wrapper] {
        text-align: right;
        float: right;
    }
    &[align="center"] > [wrapper]  {
        text-align: center;
    }
    &[align="left"] > [wrapper] {
        text-align: left;
        float: left;
    }
    &[autoclear] {
        display: block;
        overflow: hidden;
        &:before,
        &:after {
            content: "";
            display: table;
        }
        &:after {
            clear: both;
        }
    }
    &[link], &[button], &[submit] {
        &[density="airy"] > [wrapper] {
            padding: 40px 0
        }
        &[density="comfortable"] > [wrapper] {
            padding: 30px 0
        }
        &[density="cozy"] > [wrapper] {
            padding: 20px 0
        }
        &[density="compact"] > [wrapper] {
            padding: 10px 0;
        }
        a, button {
            @extend %large-radius, %button-font;
            @include anime(background, color, box-shadow, border-color);
            padding: 10px 20px;
            display: inline-block;
            color: $white;
            border: none;
            outline: none;
        }
        &[color="red"] {
            a, button {
                background: $secondary-color-100;
                &:hover {
                    background: $secondary-color-120;
                }
                &:active {
                    background: $secondary-color-active;
                }
            }
        }
        &[color="purple"] {
            a, button {
                background: $main-color-100;
                &:hover {
                    background: $main-color-120;
                }
                &:active {
                    background: $main-color-active;
                }
            }
        }
        &[color="white"] {
            a, button {
                color: $main-color-100;
                background: $white;
                &:hover {
                    color: $main-color-120;
                    background: $white-hover;
                }
                &:active {
                    color: $main-color-80;
                    background: $white;
                }
            }
        }
        &[color="transparent"] {
            a, button {
                color: $white;
                background: transparent;
                &:hover {
                    color: $secondary-hover-color;
                }
            }
        }
        &[fill="outlined"] {
            &[color="red"] {
                a, button {
                    background: transparent;
                    box-shadow: inset 0 0 0 3px $secondary-color-100;
                    color: $secondary-color-100;
                    &:hover {
                        background: $secondary-color-120;
                        box-shadow: inset 0 0 0 3px $secondary-color-120;
                        color: $white;
                    }
                    &:active {
                        background: $main-color-active;
                        box-shadow: inset 0 0 0 3px $main-color-active;
                        color: $white;
                    }
                }
            }
            &[color="purple"] {
                a, button {
                    background: transparent;
                    box-shadow: inset 0 0 0 3px $main-color-100;
                    color: $main-color-100;
                    &:hover {
                        background: $main-color-120;
                        box-shadow: inset 0 0 0 3px $main-color-120;
                        color: $white;
                    }
                    &:active {
                        background: $main-color-active;
                        box-shadow: inset 0 0 0 3px $main-color-active;
                        color: $white;
                    }
                }
            }
            &[color="white"] {
                a, button {
                    background: transparent;
                    box-shadow: inset 0 0 0 3px $white;
                    color: $white;
                    &:hover {
                        background: $white-hover;
                        box-shadow: inset 0 0 0 3px $white-hover;
                        color: $main-color-120;
                    }
                    &:active {
                        background: $white;
                        box-shadow: inset 0 0 0 3px $white;
                        color: $main-color-120;
                    }
                }
            }
        }
        &[type="secondary"] {
            a, button {
                @extend %small-radius;
            }
        }
        &[size="gigalarge"] {
            a, button {
                width: 100%;
                padding: 15px 30px;
                @extend %bodytext-large-font;
                line-height: 20px;
            }
            &[type="primary"] {
                a, button {
                    border-radius: $large-radius + 6px !important;
                }
            }
        }
        &[size="extralarge"] {
            a, button {
                width: 100%;
            }
        }
        &[size="large"] {
            a, button {
                padding: 10px 40px;
            }
        }
        &[size="medium"] {
            a, button {
                padding: 10px 30px;
            }
        }
        &[size="small"] {
            a, button {
                padding: 10px 15px;
            }
        }
        &[size="extrasmall"] {
            a, button {
                padding: 0;
            }
            &[density="compact"] > [wrapper] {
                padding: 10px 20px;
            }
        }
        &[mainsearch] {
            a, button {
                right: 0;
                margin: 33px 0 0 0;
                position: absolute;
            }
        }
    }
    &[helper] {
        &[density="airy"] > [wrapper] {
            line-height: 50px
        }
        &[density="comfortable"] > [wrapper] {
            line-height: 40px
        }
        &[density="cozy"] > [wrapper] {
            line-height: 32px
        }
        &[autoclear] > [wrapper] {
            margin: 0 10px 0 0;
        }
        div {
            font-size: 14px;
            span {
                color: $grey-color-100;
                font-style: italic;
                padding: 0 0 0 10px;
            }
            a {
                color: $secondary-color-100;
                svg {
                    width: 11px;
                    height: 11px;
                    fill: $secondary-color-100;
                    position: relative;
                    bottom: -1px;
                }
                &:hover {
                    text-decoration: underline;
                    color: $secondary-color-120;
                    svg {
                        fill: $secondary-color-120;
                    }
                }
                &:active {
                    text-decoration: underline;
                    color: $secondary-color-60;
                    svg {
                        fill: $secondary-color-60;
                    }
                }
            }
            &.align-right {
                text-align: right;
                float: right;
            }
            &.align-center {
                text-align: center;
            }
            &.align-left {
                text-align: left;
            }
            &.inline {
                display: inline-block;
                float: none;
            }
        }
    }
    &[icon="false"], &[no-icon] {
        svg {
            display: none;
        }
    }
    //@todo WRONG
    &[password] > [wrapper] {
        float: right;
    }

    &[reply] {
        a {
            color: $secondary-color-100;
            float: right;
            position: relative;
            padding: 0 0 0 16px;
            &:hover {
                text-decoration: underline;
            }
            svg {
                display: none;
                width: 12px;
                height: 11px;
                fill: $secondary-color-100;
                position: absolute;
                left: 0;
                top: 3px;
                &:first-of-type {
                    display: block;
                }
            }
        }
    }
    &[inline] > [wrapper] {
        display: inline-block;
    }
    &[back] > [wrapper] {
        @extend %center-y;

        svg {
            &:last-of-type {
                display: none;
            }
        }
    }
}

@media screen and (max-width: $tablet-portrait-width), screen and (max-device-width: $tablet-portrait-width) {
    action-button {
        &[link], &[button], &[submit] {
            &[mainsearch] > [wrapper] {
                text-align: center;
                a, button {
                    @include center-reset;
                    border-radius: $large-radius + 11px !important;
                    margin: 20px 0;
                    padding: 20px 50px;
                    font-size: 18px;

                }
            }
        }
    }
}

@media screen and (max-width: $phone-width), screen and (max-device-width: $phone-width) {
    action-button {
        &[autoclear] > [wrapper]{
            display: block;
            float: none;
            text-align: center;
        }
        &[reply] > [wrapper]{
            float: none;
            clear: both;
            margin: 0 0 10px 0;
            top:10px;
            position: relative;
            a {
                float: none;
            }
        }
        &[invert-mobile]{
            &[fill="outlined"] {
                &[color="red"] {
                    a, button {
                        background: transparent;
                        box-shadow: inset 0 0 0 3px $white;
                        color: $white;
                        &:hover {
                            background: $white-hover;
                            box-shadow: inset 0 0 0 3px $white-hover;
                            color: $main-color-120;
                        }
                        &:active {
                            background: $white;
                            box-shadow: inset 0 0 0 3px $white;
                            color: $main-color-120;
                        }
                    }
                }
                &[color="purple"] {
                    a, button {
                        background: transparent;
                        box-shadow: inset 0 0 0 3px $white;
                        color: $white;
                        &:hover {
                            background: $white-hover;
                            box-shadow: inset 0 0 0 3px $white-hover;
                            color: $main-color-120;
                        }
                        &:active {
                            background: $white;
                            box-shadow: inset 0 0 0 3px $white;
                            color: $main-color-120;
                        }
                    }
                }

            }
        }
    }
}